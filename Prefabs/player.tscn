[gd_scene load_steps=17 format=3 uid="uid://qg2ty2uh3qkc"]

[ext_resource type="Script" uid="uid://b2gp21vwxpq3q" path="res://Scripts/player.gd" id="1_4flbx"]
[ext_resource type="PackedScene" uid="uid://dnu0i17s3hiy1" path="res://Assets/blend files/charecter.blend" id="2_5wxv7"]
[ext_resource type="Script" uid="uid://k7ikraa4f2gd" path="res://Scripts/Radar.gd" id="3_y5hcb"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_y6xdh"]
radius = 0.3
height = 1.75

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5wxv7"]
radius = 0.3
height = 1.75

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_y5hcb"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y5hcb"]
animation = &"looking right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_knrd4"]
animation = &"holding controls"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hck1p"]
animation = &"pressing buttons"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2nftw"]
animation = &"looking left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_juxdh"]
animation = &"holding controls"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4qbli"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_08u7w"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_kgmex"]
states/Start/position = Vector2(126, 73)
"states/holding controls/node" = SubResource("AnimationNodeAnimation_juxdh")
"states/holding controls/position" = Vector2(376, 73)
transitions = ["Start", "holding controls", SubResource("AnimationNodeStateMachineTransition_4qbli"), "holding controls", "End", SubResource("AnimationNodeStateMachineTransition_08u7w")]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_knrd4"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_hck1p"]
graph_offset = Vector2(-171.42877, 140.8541)
nodes/output/position = Vector2(900, 260)
nodes/Animation/node = SubResource("AnimationNodeAnimation_2nftw")
nodes/Animation/position = Vector2(-340, 280)
"nodes/head turn/node" = SubResource("AnimationNodeBlend2_knrd4")
"nodes/head turn/position" = Vector2(-80, 300)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_y5hcb")
"nodes/Animation 2/position" = Vector2(-360, 460)
nodes/Add2/node = SubResource("AnimationNodeAdd2_y5hcb")
nodes/Add2/position = Vector2(720, 240)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_knrd4")
"nodes/Animation 3/position" = Vector2(-180, 80)
"nodes/Animation 4/node" = SubResource("AnimationNodeAnimation_hck1p")
"nodes/Animation 4/position" = Vector2(100, -60)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_kgmex")
nodes/StateMachine/position = Vector2(340, 360)
node_connections = [&"head turn", 0, &"Animation", &"head turn", 1, &"Animation 2"]

[node name="player" type="CharacterBody3D" node_paths=PackedStringArray("camera_3d", "head") groups=["player"]]
collision_layer = 4
collision_mask = 9
script = ExtResource("1_4flbx")
camera_3d = NodePath("head/Camera3D")
head = NodePath("head")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
visible = false
mesh = SubResource("CapsuleMesh_y6xdh")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.87538993, 0)
shape = SubResource("CapsuleShape3D_5wxv7")

[node name="head" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5735811, 0)
fov = 80.0

[node name="light" type="SpotLight3D" parent="head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.12903579, 0.11631167, -0.1840871)
spot_range = 6.64233
spot_angle = 34.493515

[node name="Label" type="Label" parent="."]
offset_right = 40.0
offset_bottom = 23.0

[node name="charecter" parent="." instance=ExtResource("2_5wxv7")]
process_mode = 3
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 0, 0, 0.082)

[node name="Skeleton3D" parent="charecter/Armature" index="1"]
bones/7/rotation = Quaternion(0.5756228, 0.40425518, 0.5816829, -0.4085111)
bones/8/rotation = Quaternion(0.1353461, -0.013411765, 0.024239691, 0.99041104)
bones/10/rotation = Quaternion(0.058408953, -0.025488228, -0.10420861, 0.9925117)
bones/11/rotation = Quaternion(-0.54580516, -0.08376278, 0.08997358, 0.82884586)
bones/12/rotation = Quaternion(-0.31032655, -0.024309838, 0.0017544369, 0.9503175)
bones/13/rotation = Quaternion(-0.24779701, 0.0049567237, 0.036498643, 0.9681116)
bones/14/rotation = Quaternion(-0.5617538, -0.03361531, 0.08955509, 0.82175577)
bones/15/rotation = Quaternion(-0.4258976, 0.006165892, -0.013096997, 0.9046556)
bones/16/rotation = Quaternion(-0.22930567, -0.0027055854, -0.026318476, 0.97299486)
bones/17/rotation = Quaternion(-0.6235825, -0.0039112843, 0.009685812, 0.7816878)
bones/18/rotation = Quaternion(-0.37760034, -0.022985514, -0.020491004, 0.9254566)
bones/19/rotation = Quaternion(-0.4558843, 0.008341521, 0.014190329, 0.8898869)
bones/20/rotation = Quaternion(-0.47362882, 0.024897523, -0.09053171, 0.87570536)
bones/21/rotation = Quaternion(-0.3968003, -0.035943083, 0.01058797, 0.9171398)
bones/22/rotation = Quaternion(-0.23198655, 0.015378281, -0.0033175368, 0.9725918)
bones/23/rotation = Quaternion(-0.038427982, -0.033320803, -0.6482024, 0.7597676)
bones/24/rotation = Quaternion(-0.39171857, 0.39244196, 0.12906992, 0.8221234)
bones/25/rotation = Quaternion(0.07406492, -0.15914358, 0.010686437, 0.98441535)
bones/28/rotation = Quaternion(0.1353461, 0.0134118255, -0.02423945, 0.9904111)
bones/31/rotation = Quaternion(-0.029864509, 0.024111971, -0.12054065, 0.99196607)
bones/32/rotation = Quaternion(0.00020804592, 0.022562357, -0.009218677, 0.99970293)
bones/33/rotation = Quaternion(0.0010658604, -0.013888764, -0.034114853, 0.99932086)
bones/34/rotation = Quaternion(-0.028707583, 0.025478432, -0.07414996, 0.9965082)
bones/35/rotation = Quaternion(-1.2618859e-09, -2.2278481e-09, 0.0144758895, 0.9998952)
bones/36/rotation = Quaternion(-0.00021668569, 0.008665136, 0.024997983, 0.99964994)
bones/37/rotation = Quaternion(-0.026879314, 0.020968579, -0.004009073, 0.9994107)
bones/38/rotation = Quaternion(-0.00016578013, 0.029021611, 0.010293942, 0.9995258)
bones/39/rotation = Quaternion(0.00027563886, -0.0138964495, -0.0088223675, 0.9998645)
bones/40/rotation = Quaternion(-0.018606007, 0.023584856, 0.08018849, 0.99632704)
bones/41/rotation = Quaternion(-0.024503129, 0.029363394, -0.023276724, 0.99899733)
bones/42/rotation = Quaternion(0.011938494, -0.014106715, 0.0069639804, 0.999805)
bones/43/rotation = Quaternion(-0.100444585, -0.10323554, 0.57145905, 0.807891)
bones/44/rotation = Quaternion(-0.03791591, -0.12995443, -0.3409117, 0.9302976)
bones/45/rotation = Quaternion(0.052443426, 0.22653612, -0.05369359, 0.9711066)
bones/54/rotation = Quaternion(-0.03220951, -0.8192147, 0.20609201, 0.5342059)
bones/55/rotation = Quaternion(-0.008942736, -0.2071003, 0.06012192, 0.9764297)
bones/56/rotation = Quaternion(-0.60384154, 0.0058175107, -0.07827782, 0.7932302)
bones/57/rotation = Quaternion(-0.25022516, 0.00085213967, 0.0027682332, 0.96818334)
bones/58/rotation = Quaternion(-0.30812868, -0.10740792, 0.09807268, 0.94016063)
bones/59/rotation = Quaternion(-0.056286912, -0.54876125, 0.35772264, 0.75347686)
bones/64/rotation = Quaternion(-0.032209493, 0.81921476, -0.2060922, 0.53420573)
bones/65/rotation = Quaternion(-0.008942646, 0.20710015, -0.060121864, 0.9764297)
bones/66/rotation = Quaternion(-0.60384154, -0.005817472, 0.07827781, 0.7932302)
bones/67/rotation = Quaternion(-0.25022522, -0.00085211336, -0.0027682139, 0.96818334)
bones/68/rotation = Quaternion(-0.30812904, 0.107407905, -0.09807274, 0.9401606)
bones/69/rotation = Quaternion(-0.056286883, 0.54876137, -0.3577227, 0.75347674)
bones/72/rotation = Quaternion(0.054800767, -2.9855688e-08, 9.658591e-09, 0.9984973)
bones/77/rotation = Quaternion(0.054800767, 2.9855688e-08, -9.658591e-09, 0.9984973)

[node name="forarm_l" parent="charecter/Armature/Skeleton3D" index="1"]
transform = Transform3D(-0.031982042, 0.9976882, 0.059961252, 0.05771937, -0.058048252, 0.9966435, 0.99782044, 0.03533563, -0.055729404, 0.4586991, 1.217659, -0.01143628)

[node name="left arm IK" type="SkeletonIK3D" parent="charecter/Armature/Skeleton3D" index="6"]
root_bone = &"arm.l"
tip_bone = &"hand.l"

[node name="right arm IK" type="SkeletonIK3D" parent="charecter/Armature/Skeleton3D" index="7"]
root_bone = &"arm.r"
tip_bone = &"hand.r"

[node name="tube r IK" type="SkeletonIK3D" parent="charecter/Armature/Skeleton3D" index="8"]
root_bone = &"breath tube.004.r"
tip_bone = &"breath tube.010.r"
target_node = NodePath("../ModifierBoneTarget3D")

[node name="tube l IK" type="SkeletonIK3D" parent="charecter/Armature/Skeleton3D" index="9"]
root_bone = &"breath tube.004.l"
tip_bone = &"breath tube.010.l"
target_node = NodePath("../ModifierBoneTarget3D2")

[node name="ModifierBoneTarget3D" type="ModifierBoneTarget3D" parent="charecter/Armature/Skeleton3D" index="10"]
transform = Transform3D(-0.2688502, 0.5442329, 0.7946885, -0.8108371, 0.3174383, -0.49170718, -0.51986796, -0.77655864, 0.3559409, -0.069894776, 1.435015, 0.18473695)
bone_name = "breath tube.r"
bone = 6

[node name="ModifierBoneTarget3D2" type="ModifierBoneTarget3D" parent="charecter/Armature/Skeleton3D" index="11"]
transform = Transform3D(-0.2688502, -0.5442329, -0.7946885, 0.8108371, 0.3174383, -0.49170718, 0.51986796, -0.77655864, 0.3559409, 0.069894776, 1.435015, 0.18473695)
bone_name = "breath tube.l"
bone = 5

[node name="AnimationTree" type="AnimationTree" parent="charecter"]
tree_root = SubResource("AnimationNodeBlendTree_hck1p")
anim_player = NodePath("../AnimationPlayer")
"parameters/head turn/blend_amount" = 1.15
parameters/Add2/add_amount = 0.5

[node name="Radar" type="Node" parent="."]
script = ExtResource("3_y5hcb")

[editable path="charecter"]
